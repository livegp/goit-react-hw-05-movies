{"version":3,"file":"static/js/713.b2b5f1f6.chunk.js","mappings":"8RAGaA,EAAOC,EAAAA,QAAOC,IAAGC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,0IAQjBC,EAAQJ,EAAAA,QAAOK,IAAGC,IAAAA,GAAAH,EAAAA,EAAAA,GAAA,gQAYlBI,EAAQP,EAAAA,QAAOQ,GAAEC,IAAAA,GAAAN,EAAAA,EAAAA,GAAA,kHAQjBO,EAASV,EAAAA,QAAOW,EAACC,IAAAA,GAAAT,EAAAA,EAAAA,GAAA,wEAMjBU,EAASb,EAAAA,QAAOW,EAACG,IAAAA,GAAAX,EAAAA,EAAAA,GAAA,0FAOjBY,EAAWf,EAAAA,QAAOW,EAACK,IAAAA,GAAAb,EAAAA,EAAAA,GAAA,qHAQnBc,EAAgBjB,EAAAA,QAAOkB,GAAEC,IAAAA,GAAAhB,EAAAA,EAAAA,GAAA,4KAazBiB,GAAOpB,EAAAA,EAAAA,SAAOqB,EAAAA,GAAPrB,CAAesB,IAAAA,GAAAnB,EAAAA,EAAAA,GAAA,qS,oBC9DtBoB,GAAavB,EAAAA,EAAAA,SAAOoB,EAAAA,GAAPpB,CAAYE,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,0PAgBzBqB,EAAgBxB,EAAAA,QAAOC,IAAGK,IAAAA,GAAAH,EAAAA,EAAAA,GAAA,wE,UCFvC,MAZA,SAAiBsB,GAAoB,IAAjBC,EAAED,EAAFC,GAAIC,EAAQF,EAARE,SACtB,OACEC,EAAAA,EAAAA,KAACL,EAAU,CAACG,GAAIA,EAAGC,UACjBE,EAAAA,EAAAA,MAACL,EAAa,CAAAG,SAAA,EACZC,EAAAA,EAAAA,KAACE,EAAAA,IAAa,CAACC,KAAK,OACnBJ,GACDC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,aAIX,E,UC+EA,MA3EA,WAAoB,IAADK,EAAAC,EACTC,GAAOC,EAAAA,EAAAA,MAAPD,GACRE,GAAwCC,EAAAA,EAAAA,UAAS,MAAKC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA/CI,EAAYF,EAAA,GAAEG,EAAeH,EAAA,GACpCI,GAA8BL,EAAAA,EAAAA,WAAS,GAAMM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAtCE,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GAGpBG,EAAmC,QAAvBd,EAAiB,QAAjBC,GADDc,EAAAA,EAAAA,MACaC,aAAK,IAAAf,OAAA,EAAdA,EAAgBgB,YAAI,IAAAjB,EAAAA,EAAI,IAoB7C,IAlBAkB,EAAAA,EAAAA,YAAU,WACHhB,IAILW,GAAW,IAEXM,EAAAA,EAAAA,GAAM,eAAgB,GAAI,GAAIjB,GAC3BkB,MAAK,SAAAC,GACJZ,EAAgBY,GAChBR,GAAW,EACb,IACCS,OAAM,SAAAC,GACLC,EAAAA,GAAMD,MAAM,wBAADE,OAAyBF,EAAMG,UAC1Cb,GAAW,EACb,IACJ,GAAG,CAACX,KAECA,EACH,OAAO,KAGT,GAAIU,EACF,OAAOhB,EAAAA,EAAAA,KAAC+B,EAAAA,EAAM,IAGhB,IAAKnB,EACH,OAAO,KAGT,IACEoB,EAKEpB,EALFoB,MACAC,EAIErB,EAJFqB,OACcC,EAGZtB,EAHFuB,aACAC,EAEExB,EAFFwB,SACaC,EACXzB,EADF0B,YAGIC,EAAG,GAAAV,OADO,mCACSA,OAAGQ,GAE5B,OACEpC,EAAAA,EAAAA,MAAAuC,EAAAA,SAAA,CAAAzC,SAAA,EACEC,EAAAA,EAAAA,KAACyC,EAAQ,CAAC3C,GAAIoB,KACdjB,EAAAA,EAAAA,MAAC9B,EAAI,CAAA4B,SAAA,EACHC,EAAAA,EAAAA,KAACxB,EAAK,CAACkE,IAAKH,EAAKI,IAAKX,KACtBhC,EAAAA,EAAAA,KAACrB,EAAK,CAAAoB,SAAEiC,KACRhC,EAAAA,EAAAA,KAAClB,EAAM,CAAAiB,SAAEkC,EAAOW,KAAI,SAAAC,GAAK,OAAIA,EAAMC,IAAI,IAAEC,KAAK,SAC9C9C,EAAAA,EAAAA,MAAChB,EAAM,CAAAc,SAAA,EACLC,EAAAA,EAAAA,KAACgD,EAAAA,IAAU,IAAG,IAAEd,EAAOe,QAAQ,OAEjCjD,EAAAA,EAAAA,KAACb,EAAQ,CAAAY,SAAEqC,KACXnC,EAAAA,EAAAA,MAACZ,EAAa,CAAAU,SAAA,EACZC,EAAAA,EAAAA,KAAA,MAAAD,UACEC,EAAAA,EAAAA,KAACR,EAAI,CAACM,GAAG,OAAMC,SAAC,YAElBC,EAAAA,EAAAA,KAAA,MAAAD,UACEC,EAAAA,EAAAA,KAACR,EAAI,CAACM,GAAG,UAASC,SAAC,kBAGvBC,EAAAA,EAAAA,KAACkD,EAAAA,SAAQ,CAACC,UAAUnD,EAAAA,EAAAA,KAAC+B,EAAAA,EAAM,IAAIhC,UAC7BC,EAAAA,EAAAA,KAACoD,EAAAA,GAAM,WAKjB,C,6FC1CA,UA5CA,WACE,IAAA5C,GAA8BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAnC6C,EAAO3C,EAAA,GAAE4C,EAAU5C,EAAA,GAC1BI,GAAwBL,EAAAA,EAAAA,UAAS,GAAEM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAA5ByC,EAAIxC,EAAA,GAAEyC,EAAOzC,EAAA,GACpB0C,GAA8BhD,EAAAA,EAAAA,WAAS,GAAMiD,GAAA/C,EAAAA,EAAAA,GAAA8C,EAAA,GAAtCzC,EAAO0C,EAAA,GAAEzC,EAAUyC,EAAA,GAC1BC,GAAsClD,EAAAA,EAAAA,UAAS,MAAKmD,GAAAjD,EAAAA,EAAAA,GAAAgD,EAAA,GAA7CE,EAAWD,EAAA,GAAEE,EAAcF,EAAA,IAElCtC,EAAAA,EAAAA,YAAU,WACR,IAAMyC,EAAQ,IAAIC,gBAAgBC,OAAOC,SAASC,QAAQC,IAAI,SAC9DN,EAAeC,EACjB,GAAG,KAEHzC,EAAAA,EAAAA,YAAU,WACY,OAAhBuC,GACFQ,EAAU,eAAgBR,EAAaN,EAE3C,GAAG,CAACM,EAAaN,IAEjB,IAIMc,EAAY,SAACC,EAAUC,EAAUC,GACrCvD,GAAW,IAEXM,EAAAA,EAAAA,GAAM+C,EAAUC,EAAUC,EAAY,IACnChD,MAAK,SAAAC,GACJ6B,EAAW7B,EAAQ4B,SACnBpC,GAAW,EACb,IACCS,OAAM,SAAAC,GACLC,EAAAA,GAAMD,MAAM,wBAADE,OAAyBF,EAAMG,UAC1Cb,GAAW,EACb,GACJ,EAEA,OACEjB,EAAAA,EAAAA,KAACyE,EAAAA,QAAO,CACNpB,QAASA,EACTqB,eArBmB,WACrBlB,GAAQ,SAAAmB,GAAQ,OAAIA,EAAW,CAAC,GAClC,EAoBI3D,QAASA,GAGf,C,2EC7CM4D,EAAW,+BAGXC,EAAiB,CACrBC,QAHc,oCAMI,SAAAC,IAyBnB,OAzBmBA,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAApB,SAAAC,EAAqBb,EAAUH,EAAQZ,EAAM6B,GAAQ,IAAAC,EAAA9C,EAAA+C,EAAAC,EAAA,OAAAN,EAAAA,EAAAA,KAAAO,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAgBlD,OAfKN,EAAY,CAChBO,SAAU,sBACVC,aAAc,gBACdjF,aAAa,UAADiB,OAAYuD,GACxBU,aAAa,UAADjE,OAAYuD,EAAQ,YAChCW,aAAa,UAADlE,OAAYuD,EAAQ,aAG5B7C,EAAG,GAAAV,OAAM+C,GAAQ/C,OAAGwD,EAAUf,IAC9BgB,EAAU,CACdU,cAAYC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACPpB,GACCO,EAAW,CAAC,EAAI,CAAE7B,KAAAA,IAClBY,EAAS,CAAEJ,MAAOI,EAAQZ,KAAAA,GAAS,CAAC,IAE3CkC,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAGwBO,EAAAA,GAAG9B,IAAI7B,EAAK+C,GAASa,OAAO,KAAD,EAApC,OAARZ,EAAQE,EAAAW,KAAAX,EAAAY,OAAA,SACPd,GAAQ,QAEsC,MAFtCE,EAAAC,KAAA,GAAAD,EAAAa,GAAAb,EAAA,SAEf7D,EAAAA,GAAMD,MAAM,wBAADE,OAAyB4D,EAAAa,GAAMxE,UACpC,IAAIyE,MAAM,uBAAD1E,OAAwB4D,EAAAa,GAAMxE,UAAW,KAAD,oBAAA2D,EAAAe,OAAA,GAAArB,EAAA,oBAE1DsB,MAAA,KAAAC,UAAA,CAED,IA7BE,SAEkBC,EAAAC,EAAAC,EAAAC,GAAA,OAAA/B,EAAA0B,MAAC,KAADC,UAAA,C","sources":["components/Details/Details.styled.js","components/BackLink/BackLink.styled.js","components/BackLink/BackLink.jsx","components/Details/Details.jsx","pages/Movies.jsx","services/api.js"],"sourcesContent":["import { NavLink } from 'react-router-dom';\nimport styled from 'styled-components';\n\nexport const Card = styled.div`\n  display: grid;\n  grid-template: auto auto 1fr auto auto / auto 1fr auto;\n  gap: 25px;\n  height: 100%;\n  font-size: 16px;\n`;\n\nexport const Image = styled.img`\n  width: 273px;\n  grid-row: 1 / 4;\n  grid-column: 1 / 2;\n  border-radius: 2px;\n  box-shadow:\n    0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14),\n    0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n  object-fit: cover;\n`;\n\nexport const Title = styled.h1`\n  color: #3b5998;\n  font-size: 20px;\n  font-weight: bold;\n  grid-row: 1 / 2;\n  grid-column: 2 / 4;\n`;\n\nexport const Genres = styled.p`\n  color: #3b5998;\n  grid-row: 2 / 3;\n  grid-column: 2 / 3;\n`;\n\nexport const Rating = styled.p`\n  display: flex;\n  color: #3b5998;\n  grid-row: 2 / 3;\n  grid-column: 3 / 4;\n`;\n\nexport const Overview = styled.p`\n  color: #3b5998;\n  text-align: justify;\n  line-height: 1.2;\n  grid-row: 3 / 4;\n  grid-column: 2 / 4;\n`;\n\nexport const BtnAdditional = styled.ul`\n  color: #3b5998;\n  grid-row: 4 / 5;\n  grid-column: 1 / 2;\n  display: flex;\n  gap: 25px;\n  justify-content: space-between;\n\n  li {\n    width: 100%;\n  }\n`;\n\nexport const Link = styled(NavLink)`\n  text-align: center;\n  background-color: #dfe3ee;\n  color: #3b5998;\n  border-radius: 5px;\n  padding: 5px 10px;\n  display: block;\n\n  &:hover {\n    background-color: #3b5998;\n    color: #dfe3ee;\n  }\n\n  &.active {\n    background-color: #3b5998;\n    color: #dfe3ee;\n  }\n`;\n","import { Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nexport const StyledLink = styled(Link)`\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n  margin-bottom: 25px;\n  color: black;\n  text-decoration: none;\n  font-weight: bold;\n  text-transform: uppercase;\n  color: #8b9dc3;\n\n  :hover {\n    color: #3b5998;\n  }\n`;\n\nexport const LinkContainer = styled.div`\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n`;\n","import React from 'react';\nimport { IoChevronBack } from 'react-icons/io5';\n\nimport { LinkContainer, StyledLink } from './BackLink.styled';\n\nfunction BackLink({ to, children }) {\n  return (\n    <StyledLink to={to}>\n      <LinkContainer>\n        <IoChevronBack size=\"24\" />\n        {children}\n        <p>Back</p>\n      </LinkContainer>\n    </StyledLink>\n  );\n}\n\nexport default BackLink;\n","import { useState, useEffect, Suspense } from 'react';\nimport { AiFillStar } from 'react-icons/ai';\nimport { Outlet, useParams, useLocation } from 'react-router-dom';\nimport { toast } from 'react-toastify';\n\nimport {\n  BtnAdditional,\n  Card,\n  Genres,\n  Image,\n  Link,\n  Overview,\n  Rating,\n  Title\n} from './Details.styled';\nimport fetch from '../../services/api';\nimport BackLink from '../BackLink/BackLink';\nimport Loader from '../Loader/Loader';\n\nfunction Details() {\n  const { id } = useParams();\n  const [movieDetails, setMovieDetails] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const location = useLocation();\n  const backLinkHref = location.state?.from ?? '/';\n\n  useEffect(() => {\n    if (!id) {\n      return;\n    }\n\n    setLoading(true);\n\n    fetch('movieDetails', '', '', id)\n      .then(newData => {\n        setMovieDetails(newData);\n        setLoading(false);\n      })\n      .catch(error => {\n        toast.error(`Error fetching data: ${error.message}`);\n        setLoading(false);\n      });\n  }, [id]);\n\n  if (!id) {\n    return null;\n  }\n\n  if (loading) {\n    return <Loader />;\n  }\n\n  if (!movieDetails) {\n    return null;\n  }\n\n  const {\n    title,\n    genres,\n    vote_average: rating,\n    overview,\n    poster_path: poster\n  } = movieDetails;\n  const POSTER_URL = `https://image.tmdb.org/t/p/w500`;\n  const url = `${POSTER_URL}${poster}`;\n\n  return (\n    <>\n      <BackLink to={backLinkHref} />\n      <Card>\n        <Image src={url} alt={title} />\n        <Title>{title}</Title>\n        <Genres>{genres.map(genre => genre.name).join(', ')}</Genres>\n        <Rating>\n          <AiFillStar /> {rating.toFixed(1)}\n        </Rating>\n        <Overview>{overview}</Overview>\n        <BtnAdditional>\n          <li>\n            <Link to=\"cast\">Cast</Link>\n          </li>\n          <li>\n            <Link to=\"reviews\">Reviews</Link>\n          </li>\n        </BtnAdditional>\n        <Suspense fallback={<Loader />}>\n          <Outlet />\n        </Suspense>\n      </Card>\n    </>\n  );\n}\n\nexport default Details;\n","import { useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\n\nimport Details from '../components/Details/Details';\nimport fetch from '../services/api';\n\nfunction Movies() {\n  const [results, setResults] = useState([]);\n  const [page, setPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [searchQuery, setSearchQuery] = useState(null);\n\n  useEffect(() => {\n    const query = new URLSearchParams(window.location.search).get('query');\n    setSearchQuery(query);\n  }, []);\n\n  useEffect(() => {\n    if (searchQuery !== null) {\n      fetchData('searchMovies', searchQuery, page);\n    }\n  }, [searchQuery, page]);\n\n  const handleLoadMore = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  const fetchData = (endpoint, searchIn, pageNumber) => {\n    setLoading(true);\n\n    fetch(endpoint, searchIn, pageNumber, '')\n      .then(newData => {\n        setResults(newData.results);\n        setLoading(false);\n      })\n      .catch(error => {\n        toast.error(`Error fetching data: ${error.message}`);\n        setLoading(false);\n      });\n  };\n\n  return (\n    <Details\n      results={results}\n      handleLoadMore={handleLoadMore}\n      loading={loading}\n    />\n  );\n}\n\nexport default Movies;\n","import ky from 'ky';\nimport { toast } from 'react-toastify';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'd1c21e798be8e69642bc9e5fdadcfaf6';\n\nconst DEFAULT_PARAMS = {\n  api_key: API_KEY\n};\n\nasync function fetch(endpoint, search, page, selected) {\n  const ENDPOINTS = {\n    trending: '/trending/movie/day',\n    searchMovies: '/search/movie',\n    movieDetails: `/movie/${selected}`,\n    movieCredits: `/movie/${selected}/credits`,\n    movieReviews: `/movie/${selected}/reviews`\n  };\n\n  const url = `${BASE_URL}${ENDPOINTS[endpoint]}`;\n  const options = {\n    searchParams: {\n      ...DEFAULT_PARAMS,\n      ...(selected ? {} : { page }),\n      ...(search ? { query: search, page } : {})\n    }\n  };\n\n  try {\n    const response = await ky.get(url, options).json();\n    return response;\n  } catch (error) {\n    toast.error(`Error fetching data: ${error.message}`);\n    throw new Error(`API request failed: ${error.message}`);\n  }\n}\n\nexport default fetch;\n"],"names":["Card","styled","div","_templateObject","_taggedTemplateLiteral","Image","img","_templateObject2","Title","h1","_templateObject3","Genres","p","_templateObject4","Rating","_templateObject5","Overview","_templateObject6","BtnAdditional","ul","_templateObject7","Link","NavLink","_templateObject8","StyledLink","LinkContainer","_ref","to","children","_jsx","_jsxs","IoChevronBack","size","_location$state$from","_location$state","id","useParams","_useState","useState","_useState2","_slicedToArray","movieDetails","setMovieDetails","_useState3","_useState4","loading","setLoading","backLinkHref","useLocation","state","from","useEffect","fetch","then","newData","catch","error","toast","concat","message","Loader","title","genres","rating","vote_average","overview","poster","poster_path","url","_Fragment","BackLink","src","alt","map","genre","name","join","AiFillStar","toFixed","Suspense","fallback","Outlet","results","setResults","page","setPage","_useState5","_useState6","_useState7","_useState8","searchQuery","setSearchQuery","query","URLSearchParams","window","location","search","get","fetchData","endpoint","searchIn","pageNumber","Details","handleLoadMore","prevPage","BASE_URL","DEFAULT_PARAMS","api_key","_fetch","_asyncToGenerator","_regeneratorRuntime","mark","_callee","selected","ENDPOINTS","options","response","wrap","_context","prev","next","trending","searchMovies","movieCredits","movieReviews","searchParams","_objectSpread","ky","json","sent","abrupt","t0","Error","stop","apply","arguments","_x","_x2","_x3","_x4"],"sourceRoot":""}