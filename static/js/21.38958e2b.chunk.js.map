{"version":3,"file":"static/js/21.38958e2b.chunk.js","mappings":"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","sources":["components/GalleryList/GalleryItem/GalleryItem.styled.js","components/GalleryList/GalleryItem/GalleryItem.jsx","components/GalleryList/GalleryList.styled.js","components/LoadBtn/LoadBtn.styled.js","components/LoadBtn/LoadBtn.jsx","components/GalleryList/GalleryList.jsx","components/Loader/Loader.styled.js","components/Loader/Loader.jsx","pages/Movies.jsx","services/fetch.js","services/useDataFetching.js"],"sourcesContent":["import styled from 'styled-components';\n\nconst Container = styled.li`\n  img {\n    width: 100%;\n    height: 100%;\n    border-radius: 4px;\n    box-shadow:\n      0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n      0px 1px 1px 0px rgba(0, 0, 0, 0.14),\n      0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n    object-fit: cover;\n    transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n    &:hover {\n      transform: scale(1.03);\n      cursor: pointer;\n    }\n  }\n`;\n\nexport default Container;\n","import PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\n\nimport Container from './GalleryItem.styled';\n\nconst defaultImg =\n  'https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700';\n\nfunction GalleryItem({ post }) {\n  const { id, poster_path: poster, title } = post;\n  const location = useLocation();\n\n  const POSTER_URL = 'https://image.tmdb.org/t/p/w500';\n  const url = poster ? `${POSTER_URL}${poster}` : defaultImg;\n\n  return (\n    <Container>\n      <Link to={`/movies/${id}`} state={{ from: location }}>\n        <img src={url} width={250} alt={title} role=\"presentation\" />\n      </Link>\n    </Container>\n  );\n}\n\nGalleryItem.propTypes = {\n  post: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    poster_path: PropTypes.string,\n    title: PropTypes.string.isRequired\n  }).isRequired\n};\n\nexport default GalleryItem;\n","import { IoIosArrowDropup } from 'react-icons/io';\nimport styled from 'styled-components';\n\nexport const Container = styled.ul`\n  display: grid;\n  max-width: calc(100vw - 48px);\n  grid-template-columns: repeat(auto-fill, minmax(273px, 1fr));\n  grid-gap: 16px;\n  margin-top: 0;\n  margin-bottom: 0;\n  padding: 0;\n  list-style: none;\n  margin-left: auto;\n  margin-right: auto;\n`;\n\nexport const Title = styled.h1`\n  color: #8b9dc3;\n  font-size: 20px;\n  font-weight: bold;\n  margin-bottom: 25px;\n`;\n\nexport const ScrollTopIcon = styled(IoIosArrowDropup)`\n  height: 50px;\n  width: 50px;\n  background-color: #dfe3ee;\n  opacity: 0.6;\n  border-radius: 50%;\n  fill: #8b9dc3;\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  &:hover {\n    opacity: 0.8;\n    fill: #3b5998;\n  }\n`;\n","import styled from 'styled-components';\n\nconst Btn = styled.button`\n  display: flex;\n  margin: 25px auto 0;\n  padding: 8px 16px;\n  border-radius: 4px;\n  background-color: #3b5998;\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  text-align: center;\n  color: #dfe3ee;\n  border: 0;\n  text-decoration: none;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 18px;\n  line-height: 24px;\n  font-style: normal;\n  font-weight: 500;\n  max-width: 180px;\n  box-shadow:\n    0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14),\n    0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n\n  &:hover,\n  &:focus {\n    background-color: #dfe3ee;\n    color: #3b5998;\n  }\n`;\n\nexport default Btn;\n","import PropTypes from 'prop-types';\n\nimport Btn from './LoadBtn.styled';\n\nfunction LoadBtn({ onLoadMore }) {\n  return <Btn onClick={onLoadMore}>Load more</Btn>;\n}\n\nLoadBtn.propTypes = {\n  onLoadMore: PropTypes.func.isRequired\n};\n\nexport default LoadBtn;\n","import PropTypes from 'prop-types';\nimport ScrollToTop from 'react-scroll-up';\n\nimport GalleryItem from './GalleryItem/GalleryItem';\nimport { Container, ScrollTopIcon, Title } from './GalleryList.styled';\nimport LoadBtn from '../LoadBtn/LoadBtn';\nimport Loader from '../Loader/Loader';\n\nfunction GalleryList({ results, title, loading, onLoadMore, total }) {\n  const showPoster = Array.isArray(results) && results.length > 0;\n  return (\n    <>\n      <Title>{title}</Title>\n      {showPoster && (\n        <Container>\n          {results.map(post => (\n            <GalleryItem key={post.id} post={post} />\n          ))}\n        </Container>\n      )}\n      {loading && <Loader />}\n      {!loading && results.length < total && (\n        <LoadBtn onLoadMore={onLoadMore} />\n      )}\n      <ScrollToTop showUnder={160} duration={250}>\n        <ScrollTopIcon />\n      </ScrollToTop>\n    </>\n  );\n}\n\nGalleryList.propTypes = {\n  results: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      poster_path: PropTypes.string,\n      title: PropTypes.string.isRequired\n    }).isRequired\n  ).isRequired,\n  title: PropTypes.string.isRequired,\n  loading: PropTypes.bool.isRequired,\n  onLoadMore: PropTypes.func.isRequired,\n  total: PropTypes.number.isRequired\n};\n\nexport default GalleryList;\n","import styled from 'styled-components';\n\nconst Container = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: 25px;\n`;\n\nexport default Container;\n","import { Bars } from 'react-loader-spinner';\n\nimport Container from './Loader.styled';\n\nfunction Loader() {\n  return (\n    <Container>\n      <Bars\n        height=\"40\"\n        width=\"40\"\n        color=\"#3b5998\"\n        ariaLabel=\"bars-loading\"\n        wrapperStyle={{}}\n        wrapperClass=\"\"\n        visible\n      />\n    </Container>\n  );\n}\n\nexport default Loader;\n","import { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nimport GalleryList from '../components/GalleryList/GalleryList';\nimport useDataFetching from '../services/useDataFetching';\n\nfunction Movies() {\n  const [searchQuery, setSearchQuery] = useState(null);\n  const location = useLocation();\n\n  useEffect(() => {\n    const searchParams = new URLSearchParams(location.search);\n    const query = searchParams.get('query');\n    if (query !== null) {\n      setSearchQuery(prevQuery => (prevQuery !== query ? query : prevQuery));\n    }\n  }, [location]);\n\n  const { results, loading, total, handleLoadMore } = useDataFetching(\n    'searchMovies',\n    searchQuery,\n    1\n  );\n\n  let title;\n  if (searchQuery !== null) {\n    title = `Nothing was found for the search query \"${searchQuery}\".`;\n    if (Array.isArray(results) && results.length > 0) {\n      title = `You searched for \"${searchQuery}\"`;\n    }\n  } else {\n    title = 'Enter a query to search';\n  }\n\n  return (\n    <GalleryList\n      results={results}\n      title={title}\n      loading={loading}\n      onLoadMore={handleLoadMore}\n      total={total}\n    />\n  );\n}\n\nexport default Movies;\n","import ky from 'ky';\nimport { toast } from 'react-toastify';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'd1c21e798be8e69642bc9e5fdadcfaf6';\n\nconst DEFAULT_PARAMS = {\n  api_key: API_KEY\n};\n\nasync function fetch(endpoint, search, page, selected) {\n  const ENDPOINTS = {\n    trending: '/trending/movie/day',\n    searchMovies: '/search/movie',\n    movieDetails: `/movie/${selected}`,\n    movieCredits: `/movie/${selected}/credits`,\n    movieReviews: `/movie/${selected}/reviews`\n  };\n\n  const url = `${BASE_URL}${ENDPOINTS[endpoint]}`;\n  const options = {\n    searchParams: {\n      ...DEFAULT_PARAMS,\n      ...(selected ? {} : { page }),\n      ...(search ? { query: search, page } : {})\n    }\n  };\n\n  try {\n    const response = await ky.get(url, options).json();\n    return response;\n  } catch (error) {\n    toast.error(`Error fetching data: ${error.message}`);\n    throw new Error(`API request failed: ${error.message}`);\n  }\n}\n\nexport default fetch;\n","import { useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\n\nimport fetch from './fetch';\n\nconst useDataFetching = (endpoint, searchIn, initialPage = 1) => {\n  const [results, setResults] = useState([]);\n  const [page, setPage] = useState(initialPage);\n  const [total, setTotal] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [search, setSearch] = useState(searchIn);\n\n  const fetchData = () => {\n    setLoading(true);\n\n    fetch(endpoint, search, page)\n      .then(newData => {\n        setTotal(newData.total_results);\n        setResults(prevResults =>\n          page === 1 ? newData.results : [...prevResults, ...newData.results]\n        );\n        setLoading(false);\n      })\n      .catch(error => {\n        toast.error(`Error fetching data: ${error.message}`);\n        setLoading(false);\n      });\n  };\n\n  const handleLoadMore = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  useEffect(() => {\n    if (search !== searchIn) {\n      setPage(1);\n      setResults([]);\n      setSearch(searchIn);\n    }\n    fetchData();\n  }, [searchIn, page, search]); // eslint-disable-line\n\n  return {\n    results,\n    loading,\n    total,\n    handleLoadMore\n  };\n};\n\nexport default useDataFetching;\n"],"names":["styled","li","_templateObject","_taggedTemplateLiteral","_ref","post","id","poster","poster_path","title","location","useLocation","url","concat","_jsx","Container","children","Link","to","state","from","src","width","alt","role","ul","Title","h1","_templateObject2","ScrollTopIcon","IoIosArrowDropup","_templateObject3","button","onLoadMore","Btn","onClick","results","loading","total","showPoster","Array","isArray","length","_jsxs","_Fragment","map","GalleryItem","Loader","LoadBtn","ScrollToTop","showUnder","duration","div","Bars","height","color","ariaLabel","wrapperStyle","wrapperClass","visible","_useState","useState","_useState2","_slicedToArray","searchQuery","setSearchQuery","useEffect","query","URLSearchParams","search","get","prevQuery","_useDataFetching","useDataFetching","handleLoadMore","GalleryList","BASE_URL","DEFAULT_PARAMS","api_key","_fetch","_asyncToGenerator","_regeneratorRuntime","mark","_callee","endpoint","page","selected","ENDPOINTS","options","response","wrap","_context","prev","next","trending","searchMovies","movieDetails","movieCredits","movieReviews","searchParams","_objectSpread","ky","json","sent","abrupt","t0","toast","error","message","Error","stop","apply","arguments","_x","_x2","_x3","_x4","searchIn","initialPage","undefined","setResults","_useState3","_useState4","setPage","_useState5","_useState6","setTotal","_useState7","_useState8","setLoading","_useState9","_useState10","setSearch","fetch","then","newData","total_results","prevResults","_toConsumableArray","catch","prevPage"],"sourceRoot":""}