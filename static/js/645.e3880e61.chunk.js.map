{"version":3,"file":"static/js/645.e3880e61.chunk.js","mappings":"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","sources":["components/GalleryList/GalleryItem/GalleryItem.styled.js","components/GalleryList/GalleryItem/GalleryItem.jsx","components/GalleryList/GalleryList.styled.js","components/GalleryList/GalleryList.jsx","components/LoadBtn/LoadBtn.styled.js","components/LoadBtn/LoadBtn.jsx","pages/Home.jsx","services/api.js"],"sourcesContent":["import styled from 'styled-components';\n\nconst Container = styled.li`\n  border-radius: 2px;\n  box-shadow:\n    0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14),\n    0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n\n  img {\n    width: 100%;\n    object-fit: cover;\n    transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n    &:hover {\n      transform: scale(1.03);\n      cursor: pointer;\n    }\n  }\n`;\n\nexport default Container;\n","import PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\n\nimport Container from './GalleryItem.styled';\n\nfunction GalleryItem({ post }) {\n  const { id, poster_path: posterPath, title } = post;\n  const location = useLocation();\n\n  const POSTER_URL = `https://image.tmdb.org/t/p/w500`;\n  const url = `${POSTER_URL}${posterPath}`;\n  return (\n    <Container>\n      <Link to={`/movies/${id}`} state={{ from: location }}>\n        <img src={url} alt={title} role=\"presentation\" />\n      </Link>\n    </Container>\n  );\n}\n\nGalleryItem.propTypes = {\n  post: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    poster_path: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired\n  }).isRequired\n};\n\nexport default GalleryItem;\n","import styled from 'styled-components';\n\nexport const Container = styled.ul`\n  display: grid;\n  max-width: calc(100vw - 48px);\n  grid-template-columns: repeat(auto-fill, minmax(273px, 1fr));\n  grid-gap: 16px;\n  margin-top: 0;\n  margin-bottom: 0;\n  padding: 0;\n  list-style: none;\n  margin-left: auto;\n  margin-right: auto;\n`;\n\nexport const Title = styled.h1`\n  color: #3b5998;\n  font-size: 20px;\n  font-weight: bold;\n  margin-bottom: 25px;\n`;\n","import PropTypes from 'prop-types';\n\nimport GalleryItem from './GalleryItem/GalleryItem';\nimport { Container, Title } from './GalleryList.styled';\n\nfunction GalleryList({ results, title }) {\n  return (\n    results && (\n      <>\n        <Title>{title}</Title>\n        <Container>\n          {results.map(post => (\n            <GalleryItem key={post.id} post={post} />\n          ))}\n        </Container>\n      </>\n    )\n  );\n}\n\nGalleryList.propTypes = {\n  results: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      poster_path: PropTypes.string.isRequired,\n      title: PropTypes.string.isRequired\n    }).isRequired\n  ).isRequired\n};\n\nexport default GalleryList;\n","import styled from 'styled-components';\n\nconst Btn = styled.button`\n  display: flex;\n  margin: 25px auto 0;\n  padding: 8px 16px;\n  border-radius: 2px;\n  background-color: #3b5998;\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  text-align: center;\n  color: #f7f7f7;\n  border: 0;\n  text-decoration: none;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 18px;\n  line-height: 24px;\n  font-style: normal;\n  font-weight: 500;\n  max-width: 180px;\n  box-shadow:\n    0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14),\n    0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n\n  &:hover,\n  &:focus {\n    background-color: #f7f7f7;\n    color: #3b5998;\n  }\n`;\n\nexport default Btn;\n","import PropTypes from 'prop-types';\n\nimport Btn from './LoadBtn.styled';\n\nfunction LoadBtn({ onLoadMore }) {\n  return <Btn onClick={onLoadMore}>Load more</Btn>;\n}\n\nLoadBtn.propTypes = {\n  onLoadMore: PropTypes.func.isRequired\n};\n\nexport default LoadBtn;\n","import { useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\n\nimport GalleryList from '../components/GalleryList/GalleryList';\nimport LoadBtn from '../components/LoadBtn/LoadBtn';\nimport Loader from '../components/Loader/Loader';\nimport fetch from '../services/api';\n\nfunction Home() {\n  const [results, setResults] = useState([]);\n  const [page, setPage] = useState(1);\n  const [total, setTotal] = useState(0);\n  const [loading, setLoading] = useState(false);\n\n  const title = 'In trend';\n\n  useEffect(() => {\n    fetchData('trending', '', page, '');\n  }, [page]); // eslint-disable-line\n\n  const handleLoadMore = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  const fetchData = (endpoint, searchIn, pageNumber) => {\n    setLoading(true);\n\n    fetch(endpoint, searchIn, pageNumber)\n      .then(newData => {\n        setTotal(newData.total_results);\n        const newResults =\n          pageNumber === 1 ? newData.results : [...results, ...newData.results];\n        setResults(newResults);\n        setLoading(false);\n      })\n      .catch(error => {\n        toast.error(`Error fetching data: ${error.message}`);\n        setLoading(false);\n      });\n  };\n\n  return (\n    <>\n      <GalleryList results={results} title={title} />\n      {loading && <Loader />}\n      {!loading && results.length < total && (\n        <LoadBtn onLoadMore={handleLoadMore} />\n      )}\n    </>\n  );\n}\n\nexport default Home;\n","import ky from 'ky';\nimport { toast } from 'react-toastify';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'd1c21e798be8e69642bc9e5fdadcfaf6';\n\nconst DEFAULT_PARAMS = {\n  api_key: API_KEY\n};\n\nasync function fetch(endpoint, search, page, selected) {\n  const ENDPOINTS = {\n    trending: '/trending/movie/day',\n    searchMovies: '/search/movie',\n    movieDetails: `/movie/${selected}`,\n    movieCredits: `/movie/${selected}/credits`,\n    movieReviews: `/movie/${selected}/reviews`\n  };\n\n  const url = `${BASE_URL}${ENDPOINTS[endpoint]}`;\n  const options = {\n    searchParams: {\n      ...DEFAULT_PARAMS,\n      ...(selected ? {} : { query: search, page })\n    }\n  };\n\n  try {\n    const response = await ky.get(url, options).json();\n    return response;\n  } catch (error) {\n    toast.error(`Error fetching data: ${error.message}`);\n    throw new Error(`API request failed: ${error.message}`);\n  }\n}\n\nexport default fetch;\n"],"names":["styled","li","_templateObject","_taggedTemplateLiteral","_ref","post","id","posterPath","poster_path","title","location","useLocation","url","concat","_jsx","Container","children","Link","to","state","from","src","alt","role","ul","Title","h1","_templateObject2","results","_jsxs","_Fragment","map","GalleryItem","button","onLoadMore","Btn","onClick","_useState","useState","_useState2","_slicedToArray","setResults","_useState3","_useState4","page","setPage","_useState5","_useState6","total","setTotal","_useState7","_useState8","loading","setLoading","useEffect","fetchData","endpoint","searchIn","pageNumber","fetch","then","newData","total_results","newResults","_toConsumableArray","catch","error","toast","message","GalleryList","Loader","length","LoadBtn","prevPage","BASE_URL","DEFAULT_PARAMS","api_key","_fetch","_asyncToGenerator","_regeneratorRuntime","mark","_callee","search","selected","ENDPOINTS","options","response","wrap","_context","prev","next","trending","searchMovies","movieDetails","movieCredits","movieReviews","searchParams","_objectSpread","query","ky","get","json","sent","abrupt","t0","Error","stop","apply","arguments","_x","_x2","_x3","_x4"],"sourceRoot":""}